{
 "name": "COVID19 Back To Work Core",
 "id": "065359ce-cda2-4e44-bf0c-c5e430650d12",
 "scenario_trigger": "covid19_backToWork_core",
 "description": "Daily screening of internal employees to determine if they can go back to work",
 "active": true,
 "updated": "2020-06-03T15:08:04.9920000Z",
 "userDisplayName": "N",
 "code": "{\"version\":3,\"steps\":[{\"id\":\"a9e81aa8f98b-ecf5f5ff2fb724a9-3c18\",\"type\":\"action\",\"label\":\"Init\",\"designer\":{\"xLocation\":851,\"yLocation\":0,\"next\":\"6c0cc064506e-f024ae48818ab630-d042\"},\"onInit\":\"scenario.temperatureUnit = {\\\"value\\\":\\\"Fah\\\",\\\"name\\\":\\\"Fahrenheit Â°F\\\"};\\n// Scenario thresholds \\n// ** CUSTOMER CAN SET NEW VALUES ACCORDING TO OWN POLICIES **\\nscenario.quarantineDays = 14; // numer of days from eposed to COVID-19, before you are allowed to go back to work\\nscenario.validTestDays = 2;   // number of days a negative test is valid\\nscenario.symptomFreeDays = 3; // number of days with no symptoms,  before you are allowed to go back to work\\n\\n// persistency: FHIR\\n// ** WE PROVIDE FHIR PERSISTENCE **\\n// ** CUSTOMER CAN SET OWN PERSISTENCE AND PROVIDE CRUD SUB-SCENARIO **\\nscenario.persistence = {\\\"value\\\":\\\"FHIR\\\",\\\"name\\\":\\\"FHIR\\\"};\\n\\n// support Teams integration, take team's user identification\\nscenario.isTeams =session.message.address.channelId === \\\"msteams\\\";\\nscenario.uniqueId = \\\"\\\";\\nif(scenario.isTeams){\\n    scenario.uniqueId = session.message[\\\"user\\\"].aadObjectId;\\n    scenario.userName = session.message[\\\"user\\\"].name;\\n}\\nscenario.dateOfEntry = new Date();\\n\\n\"},{\"id\":\"7c6bf2a495d3-fb2521936b683020-12ad\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"back_to_work_Yes\\\"], customLocalizedStrings[\\\"back_to_work_No\\\"]]\",\"designer\":{\"xLocation\":740,\"yLocation\":2180,\"listStyle\":3,\"next\":\"02eaba98fcbf-1c9d7ae9425f32da-4369\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_question_Tested\\\"]\",\"variable\":\"tested\",\"submitTitle\":\"Submit\",\"label\":\"Tested\",\"stringId\":\"stringId_eab10fa48d4c6563\",\"choiceType\":\"choice\"},{\"id\":\"856040320d25-fa50d7986ad0ca80-c69d\",\"type\":\"statement\",\"designer\":{\"xLocation\":360,\"yLocation\":2191},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_ok\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_okSafe\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"OK\"},{\"id\":\"e54e97d5f13f-8ba39779bf4ddc10-183d\",\"type\":\"statement\",\"designer\":{\"xLocation\":840,\"yLocation\":94,\"next\":\"1d393a7f66fa-a4665108940967cc-c8bc\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_welcome\\\"] + \\\"  \\\\n  \\\" + customLocalizedStrings[\\\"back_to_work_welcomePart2\\\"]\",\"stringId\":\"stringId_1c3944e2b05abb98\",\"label\":\"Welcome\"},{\"id\":\"b263e90b1704-75861bd614223040-1336\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"back_to_work_Yes\\\"], customLocalizedStrings[\\\"back_to_work_No\\\"]]\",\"designer\":{\"xLocation\":960,\"yLocation\":880,\"listStyle\":3,\"next\":\"456817118556-1113f99c85cd3dc5-3027\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_question_Covid19Expose\\\"]\",\"variable\":\"exposed\",\"stringId\":\"stringId_cb295159735b20e8\",\"choiceType\":\"choice\",\"label\":\"Exposure\"},{\"id\":\"1f392eedf30d-48e6560f7f406848-2839\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":800,\"yLocation\":1494,\"next\":\"24158ddc7667-b8f76e387130aaf6-a934\"},\"variable\":\"secondarySymptoms\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_637040fd8feae2da\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_question_Symptoms\\\"],\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_question_Select\\\"],\\r\\n            \\\"size\\\": \\\"Medium\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_Chills\\\"],\\r\\n            \\\"id\\\": \\\"Chills\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_MusclePain\\\"],\\r\\n            \\\"id\\\": \\\"MusclePain\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_SoreThroat\\\"],\\r\\n            \\\"id\\\": \\\"Throat\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_lossSmellTaste\\\"],\\r\\n            \\\"id\\\": \\\"LossSmellTaste\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_Vomiting\\\"],\\r\\n            \\\"id\\\": \\\"Vomiting\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_Diarrhea\\\"],\\r\\n            \\\"id\\\": \\\"Diarrhea\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_None\\\"],\\r\\n            \\\"id\\\": \\\"None\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_Submit\\\"]\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"ListOfSymptoms\"},{\"id\":\"9d7c47037737-08bcc9620f1150fe-3080\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":800,\"yLocation\":1100,\"next\":\"9e68b46a8a6b-3697312c31e55b6a-7127\"},\"variable\":\"symptoms\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_9895c809ce9ddc5a\",\"layout\":\"vertical\",\"label\":\"Symptoms\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_question_Symptoms\\\"],\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_question_Select\\\"],\\r\\n            \\\"size\\\": \\\"Medium\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_Fever\\\"],\\r\\n            \\\"id\\\": \\\"Fever\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_Cough\\\"],\\r\\n            \\\"id\\\": \\\"Cough\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_ShortnessOfBreath\\\"],\\r\\n            \\\"id\\\": \\\"Breath\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_input_None\\\"],\\r\\n            \\\"id\\\": \\\"None\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_Submit\\\"]\\r\\n        }\\r\\n    ]\\r\\n}\"}]},{\"id\":\"98e7275cf98e-7cb337657e28a8e8-d65b\",\"type\":\"branch\",\"condition\":\"JSON.parse(scenario.symptoms).Fever.toLowerCase() === \\\"true\\\"\",\"designer\":{\"xLocation\":812,\"yLocation\":1394,\"next\":\"1f392eedf30d-48e6560f7f406848-2839\"},\"label\":\"Fever\",\"targetStepId\":\"bba795526ac8-9b61dda20a184949-a315\"},{\"id\":\"bba795526ac8-9b61dda20a184949-a315\",\"type\":\"prompt\",\"dataType\":\"number\",\"designer\":{\"xLocation\":994,\"yLocation\":1380,\"next\":\"737ceae7bd19-18dc531c2e3a733b-19ce\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_question_Temperature\\\"]\",\"variable\":\"measuredTemperature\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_ce92a7f77f212a6d\"},{\"id\":\"2aa547cc03de-d77584e830c2421b-a3f7\",\"type\":\"branch\",\"condition\":\"scenario.isSymptomatic || scenario.exposed\",\"designer\":{\"xLocation\":790,\"yLocation\":1968,\"next\":\"e17a69f7159a-9641815844c763cc-385e\"},\"label\":\"Symptomatic\",\"targetStepId\":\"719c80407541-44a7b0ebf34ce554-d5de\"},{\"id\":\"24158ddc7667-b8f76e387130aaf6-a934\",\"type\":\"action\",\"label\":\"Symptomatic - New\",\"designer\":{\"xLocation\":800,\"yLocation\":1560,\"next\":\"f8147ac7c959-40f3220536fb233e-7df1\"},\"onInit\":\"scenario.numberOfSelected = 0;\\r\\n\\r\\nvar secondarySymptoms = JSON.parse(scenario.secondarySymptoms);\\r\\nscenario.numberOfSelected += secondarySymptoms.Chills.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += secondarySymptoms.MusclePain.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += secondarySymptoms.Throat.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += secondarySymptoms.LossSmellTaste.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += secondarySymptoms.Vomiting.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += secondarySymptoms.Diarrhea.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\n\\r\\n// isSymptomatic is true if two of the symptoms are true\\r\\nif(scenario.numberOfSelected >= 2){\\r\\n    scenario.isSymptomatic = true;\\r\\n}\\r\\n\\r\\nscenario.numberOfSelected += secondarySymptoms.None.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\n\\r\\n\"},{\"id\":\"02eaba98fcbf-1c9d7ae9425f32da-4369\",\"type\":\"branch\",\"condition\":\"scenario.tested.index === 0\",\"designer\":{\"xLocation\":748,\"yLocation\":2247,\"next\":\"1cc1e0f04a2f-cb2e1b17d2ad3af0-a367\"},\"targetStepId\":\"2f749d8f7166-513346155ff659e9-a742\",\"label\":\"Tested\"},{\"id\":\"2f749d8f7166-513346155ff659e9-a742\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"back_to_work_Positive\\\"], customLocalizedStrings[\\\"back_to_work_Negative\\\"], customLocalizedStrings[\\\"back_to_work_DontKnow\\\"]]\",\"designer\":{\"xLocation\":809,\"yLocation\":2340,\"listStyle\":3,\"next\":\"850160118658-6c4b03c86413367c-560e\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_question_TestResults\\\"]\",\"variable\":\"testResult\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_d1de1408a3136c41\",\"choiceType\":\"choice\"},{\"id\":\"850160118658-6c4b03c86413367c-560e\",\"type\":\"switch\",\"designer\":{\"xLocation\":780,\"yLocation\":2409},\"cases\":[{\"value\":\"0\",\"targetStepId\":\"ce0380342f35-5f221213aaba723a-b0c2\"},{\"value\":\"1\",\"targetStepId\":\"c2679d77db23-87bddec3ac94002b-a221\"},{\"value\":\"2\",\"targetStepId\":\"f20f95fb22ba-c678c40cf03a5a3a-9c72\"}],\"condition\":\"scenario.testResult.index\"},{\"id\":\"9e042b1e2b0d-8a74b3be8ecbd0e6-d429\",\"type\":\"action\",\"label\":\"History: Expose + Test\",\"designer\":{\"xLocation\":828,\"yLocation\":900,\"next\":\"541a175727fe-3756b199bfc9842e-fdc0\"},\"onInit\":\"var exposedDate = null;\\r\\nvar diagnosticReport = null;\\r\\nscenario.diagnosticReport = null;\\r\\n\\r\\nif(scenario.patientHistory.result.exposures.entry){\\r\\n    for(var i=0; i < scenario.patientHistory.result.exposures.entry.length; i++){\\r\\n        var exposedEntry = scenario.patientHistory.result.exposures.entry[i].resource;\\r\\n        if(exposedDate == null || new Date(exposedEntry.effectiveDateTime) > exposedDate ){\\r\\n            exposedDate = new Date(exposedEntry.effectiveDateTime);\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\nif(scenario.patientHistory.result.diagnosticReports.entry){\\r\\n    for(var i=0; i < scenario.patientHistory.result.diagnosticReports.entry.length; i++){\\r\\n        var diagnosticEntry = scenario.patientHistory.result.diagnosticReports.entry[i].resource;\\r\\n        if(diagnosticReport == null || new Date(diagnosticEntry.issued) > new Date(diagnosticReport.issued)){\\r\\n            diagnosticReport = diagnosticEntry;\\r\\n        }\\r\\n    }   \\r\\n\\r\\n    scenario.diagnosticReport = diagnosticReport;\\r\\n    \\r\\n    if ( diagnosticReport.conclusion != \\\"Positive\\\" && \\r\\n         (new Date(diagnosticReport.issued) < new Date().setDate(new Date().getDate() - scenario.validTestDays)) ){\\r\\n        scenario.diagnosticReport = null;    \\r\\n    }\\r\\n}\\r\\n\\r\\nif(exposedDate != null){\\r\\n    scenario.exposed = exposedDate > new Date().setDate(new Date().getDate() - scenario.quarantineDays);\\r\\n}\\r\\n\\r\\n\\r\\n\"},{\"id\":\"541a175727fe-3756b199bfc9842e-fdc0\",\"type\":\"branch\",\"condition\":\"scenario.exposed\",\"designer\":{\"xLocation\":820,\"yLocation\":989,\"next\":\"b263e90b1704-75861bd614223040-1336\",\"reverse\":true},\"label\":\"Already Exposed\",\"targetStepId\":\"9d7c47037737-08bcc9620f1150fe-3080\"},{\"id\":\"6c40798f0cb8-f3f7786ee90648ab-d820\",\"type\":\"switch\",\"designer\":{\"xLocation\":1140,\"yLocation\":2409},\"cases\":[{\"value\":\"Positive\",\"targetStepId\":\"c1fa3baf4764-a723295ed283e99c-001d\"},{\"value\":\"Negative\",\"targetStepId\":\"086fa067862e-281017d6be482ea9-3fae\"},{\"value\":\"Testing\",\"targetStepId\":\"2f749d8f7166-513346155ff659e9-a742\"}],\"condition\":\"scenario.diagnosticReport.conclusion\"},{\"id\":\"c1fa3baf4764-a723295ed283e99c-001d\",\"type\":\"statement\",\"designer\":{\"xLocation\":880,\"yLocation\":2693},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }/*,\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"20px\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"Image\\\",\\r\\n                                    \\\"altText\\\": \\\"\\\",\\r\\n                                    \\\"url\\\": conversation.resourcesUrl + \\\"/Cross.png\\\",\\r\\n                                    \\\"width\\\": \\\"20px\\\",\\r\\n                                    \\\"height\\\": \\\"20px\\\"\\r\\n                                }\\r\\n                            ],\\r\\n                            \\\"height\\\": \\\"stretch\\\"\\r\\n                        }*/\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOkPositiveSymptom\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + Positive\"},{\"id\":\"456817118556-1113f99c85cd3dc5-3027\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":968,\"yLocation\":949,\"next\":\"032b5df2d815-14090dddef282916-6374\"},\"onInit\":\"scenario.exposed = scenario.exposed.index === 0;\"},{\"id\":\"e17a69f7159a-9641815844c763cc-385e\",\"type\":\"branch\",\"condition\":\"scenario.diagnosticReport != null\",\"designer\":{\"xLocation\":573,\"yLocation\":1992,\"reverse\":false,\"next\":\"842b792c1b58-36ae706f6a7c6e8c-cbbe\"},\"targetStepId\":\"c295597e1297-a41c4d4d785893a9-b8e4\",\"label\":\"Has Report (A-Symptomatic)\"},{\"id\":\"719c80407541-44a7b0ebf34ce554-d5de\",\"type\":\"branch\",\"condition\":\"// do we have report from last days\\r\\nscenario.diagnosticReport != null\\r\\n\",\"designer\":{\"xLocation\":940,\"yLocation\":2020,\"next\":\"7c6bf2a495d3-fb2521936b683020-12ad\",\"reverse\":false},\"label\":\"Has Report (Symptomatic)\",\"targetStepId\":\"6c40798f0cb8-f3f7786ee90648ab-d820\"},{\"id\":\"1d393a7f66fa-a4665108940967cc-c8bc\",\"type\":\"branch\",\"condition\":\"scenario.isTeams\",\"designer\":{\"xLocation\":851,\"yLocation\":140,\"next\":\"a2a65fbb6784-7f47aa32b3d06c5c-8262\"},\"label\":\"Is Teams\",\"targetStepId\":\"0fca524463bc-7f6739e3bbddc044-fb79\"},{\"id\":\"a2a65fbb6784-7f47aa32b3d06c5c-8262\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"back_to_work_Yes\\\"], customLocalizedStrings[\\\"back_to_work_No\\\"]]\",\"designer\":{\"xLocation\":520,\"yLocation\":160,\"listStyle\":3,\"next\":\"6791eaab21c5-100d85d9e740fff1-1375\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_question_Register\\\"]\",\"variable\":\"alreadyRegistered\",\"submitTitle\":\"Submit\",\"label\":\"Registered\",\"stringId\":\"stringId_b8a7ab21112f6b40\",\"choiceType\":\"choice\"},{\"id\":\"6791eaab21c5-100d85d9e740fff1-1375\",\"type\":\"branch\",\"condition\":\"scenario.alreadyRegistered.index === 0\",\"designer\":{\"xLocation\":520,\"yLocation\":220,\"next\":\"2599e5ea4a33-63667ef76f3f96d9-b771\"},\"label\":\"Registered\",\"targetStepId\":\"2fd3f85be293-323134198819a410-1390\"},{\"id\":\"2599e5ea4a33-63667ef76f3f96d9-b771\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":349,\"yLocation\":250,\"next\":\"f422fcf5cb5d-ea5bf47d41258c4a-9051\"},\"variable\":\"userInfoInput\",\"submitTitle\":\"Submit\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_completeForm\\\"],\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_Name\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"value\\\": scenario.userName,\\r\\n                            \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_Name\\\"],\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"id\\\": \\\"userName\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_Email\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"value\\\":  scenario.userEmail,\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_Email\\\"],\\r\\n                            \\\"id\\\": \\\"email\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_YearOfBirth\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Number\\\",\\r\\n                            \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_YearOfBirth\\\"],\\r\\n                            \\\"value\\\":  scenario.birthYear,\\r\\n                            \\\"id\\\": \\\"birthYear\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_ID\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_ID\\\"],\\r\\n                            \\\"value\\\": scenario.uniqueId,\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"id\\\": \\\"uniqueId\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_Submit\\\"]\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Create Profile\"},{\"id\":\"f422fcf5cb5d-ea5bf47d41258c4a-9051\",\"type\":\"branch\",\"condition\":\"scenario.userInfoInput.userName != \\\"\\\" && scenario.userInfoInput.email != \\\"\\\" && \\r\\nscenario.userInfoInput.birthYear != \\\"\\\" && scenario.userInfoInput.uniqueId != \\\"\\\"\\r\\n\",\"designer\":{\"xLocation\":351,\"yLocation\":328,\"next\":\"f28dcc0bab8f-6189cd1ba64347a7-1092\"},\"label\":\"Required fields\",\"targetStepId\":\"7aaec3715ae8-4806230d86a01dbf-d6f0\"},{\"id\":\"f28dcc0bab8f-6189cd1ba64347a7-1092\",\"type\":\"statement\",\"designer\":{\"xLocation\":220,\"yLocation\":308,\"next\":\"2599e5ea4a33-63667ef76f3f96d9-b771\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_input_AllFields\\\"]\",\"stringId\":\"stringId_dee070a638f6c42f\"},{\"id\":\"7aaec3715ae8-4806230d86a01dbf-d6f0\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":420,\"yLocation\":400,\"next\":\"b8c5f90e8482-14364f360a56a2ae-a527\"},\"onInit\":\"scenario.uniqueId = scenario.userInfoInput.uniqueId;\\nscenario.userName = scenario.userInfoInput.userName;\\nscenario.birthYear = scenario.userInfoInput.birthYear;\\nscenario.userEmail = scenario.userInfoInput.email;\"},{\"id\":\"772037e263b8-86fae2289019c50f-920c\",\"type\":\"branch\",\"condition\":\"scenario.patientResponse.result.entry != null\",\"designer\":{\"xLocation\":411,\"yLocation\":680,\"reverse\":true,\"next\":\"a832f785efc4-ab12bdd9a4108236-524b\"},\"label\":\"User Exist\",\"targetStepId\":\"af01ec66d908-598c4158a5837021-b3c9\"},{\"id\":\"b18a0c36200a-97f63e6809db7550-5e75\",\"type\":\"statement\",\"designer\":{\"xLocation\":234,\"yLocation\":548,\"next\":\"2599e5ea4a33-63667ef76f3f96d9-b771\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_error_ID\\\"]\",\"stringId\":\"stringId_73461da496541a32\",\"label\":\"Already Exist\"},{\"id\":\"2fd3f85be293-323134198819a410-1390\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":668,\"yLocation\":248,\"next\":\"b8661d37d737-9968831de0835cb6-aa92\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_input_PleaseProvide\\\"] + \\\" \\\" + customLocalizedStrings[\\\"back_to_work_input_ID\\\"]\",\"variable\":\"uniqueId\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_412ec237edd8a1ba\",\"label\":\"Get Unique ID\"},{\"id\":\"b8661d37d737-9968831de0835cb6-aa92\",\"type\":\"branch\",\"condition\":\"scenario.uniqueId != \\\"\\\"\\r\\n\",\"designer\":{\"xLocation\":667,\"yLocation\":340,\"next\":\"2fd3f85be293-323134198819a410-1390\"},\"label\":\"Required Fields\",\"targetStepId\":\"d97672127c3a-a769745e92e1f493-e9aa\"},{\"id\":\"5624e84d5da1-dba290657db8cdc2-8d8f\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":1008,\"yLocation\":300,\"next\":\"9c55c1371d0f-b616f1b7c7d9abcc-f9f6\"},\"variable\":\"userInfoInput\",\"submitTitle\":\"Submit\",\"label\":\"Get user profile\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_completeForm\\\"],\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_Name\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"value\\\": scenario.userName,\\r\\n                             \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_Name\\\"],\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"id\\\": \\\"userName\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_Email\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"value\\\":  scenario.userEmail,\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_Email\\\"],\\r\\n                            \\\"id\\\": \\\"email\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": customLocalizedStrings[\\\"back_to_work_input_YearOfBirth\\\"]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Number\\\",\\r\\n                            \\\"placeholder\\\": customLocalizedStrings[\\\"back_to_work_input_YearOfBirth\\\"],\\r\\n                            \\\"value\\\":  scenario.birthYear,\\r\\n                            \\\"id\\\": \\\"birthYear\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"back_to_work_Submit\\\"]\\r\\n        }\\r\\n    ]\\r\\n}\"}]},{\"id\":\"9c55c1371d0f-b616f1b7c7d9abcc-f9f6\",\"type\":\"branch\",\"condition\":\"scenario.userInfoInput.userName != \\\"\\\" && scenario.userInfoInput.email != \\\"\\\" && \\r\\nscenario.userInfoInput.birthYear != \\\"\\\"\\r\\n\",\"designer\":{\"xLocation\":993,\"yLocation\":380,\"next\":\"eaff18f15c76-0362fe33e12ee75c-80c6\",\"reverse\":true},\"label\":\"Fields filled in\",\"targetStepId\":\"a832f785efc4-ab12bdd9a4108236-524b\"},{\"id\":\"eaff18f15c76-0362fe33e12ee75c-80c6\",\"type\":\"statement\",\"designer\":{\"xLocation\":1120,\"yLocation\":347,\"next\":\"5624e84d5da1-dba290657db8cdc2-8d8f\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_input_AllFields\\\"]\",\"stringId\":\"stringId_dee070a638f6c42f\"},{\"id\":\"e593870f7a17-fab71c5a5a467143-a012\",\"type\":\"branch\",\"condition\":\"scenario.patientResponse.result.entry != null\",\"designer\":{\"xLocation\":850,\"yLocation\":260,\"reverse\":true,\"next\":\"5624e84d5da1-dba290657db8cdc2-8d8f\"},\"label\":\"User Exist\",\"targetStepId\":\"1c1a401c5e6d-f8c68a0d73be3efa-3349\"},{\"id\":\"d6f39184fc8b-8b56ef169e42291e-a10b\",\"type\":\"prompt\",\"dataType\":\"number\",\"designer\":{\"xLocation\":600,\"yLocation\":570,\"next\":\"ff9514d57de8-8d1ba0189d7d629a-0975\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_input_PleaseProvide\\\"] + \\\" \\\" + customLocalizedStrings[\\\"back_to_work_input_YearOfBirth\\\"]\",\"variable\":\"checkYearOfBirth\",\"submitTitle\":\"Submit\",\"label\":\"Birth Year\",\"stringId\":\"stringId_c8e5d625d29130ba\"},{\"id\":\"da437162e41b-83ec89323f2c07db-d61e\",\"type\":\"branch\",\"condition\":\"scenario.patientResponse.result.entry != null\",\"designer\":{\"xLocation\":700,\"yLocation\":506,\"next\":\"1818dfef2440-dad719b6c21c4ba7-ef4c\",\"reverse\":true},\"label\":\"Exists\",\"targetStepId\":\"d6f39184fc8b-8b56ef169e42291e-a10b\"},{\"id\":\"ff9514d57de8-8d1ba0189d7d629a-0975\",\"type\":\"branch\",\"condition\":\"scenario.checkYearOfBirth == scenario.patientResponse.result.entry[0].resource.birthDate\",\"designer\":{\"xLocation\":620,\"yLocation\":680,\"next\":\"e264862da22f-e61616d9dd420ec2-ae75\"},\"label\":\"Validate DOB\",\"targetStepId\":\"1c1a401c5e6d-f8c68a0d73be3efa-3349\"},{\"id\":\"e264862da22f-e61616d9dd420ec2-ae75\",\"type\":\"statement\",\"designer\":{\"xLocation\":520,\"yLocation\":432,\"next\":\"2fd3f85be293-323134198819a410-1390\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_error_NoRecordFound\\\"]\",\"label\":\"Not Found\",\"stringId\":\"stringId_73e46813f4734ec0\"},{\"id\":\"af01ec66d908-598c4158a5837021-b3c9\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":280,\"yLocation\":700,\"next\":\"b18a0c36200a-97f63e6809db7550-5e75\"},\"onInit\":\"scenario.uniqueId = \\\"\\\";\"},{\"id\":\"0fca524463bc-7f6739e3bbddc044-fb79\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":950,\"yLocation\":189,\"next\":\"e593870f7a17-fab71c5a5a467143-a012\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"GetPatient\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[{ \\\"id\\\": scenario.uniqueId }]\\r\\n}\",\"variable\":\"patientResponse\",\"label\":\"Get Patient\"},{\"id\":\"b8c5f90e8482-14364f360a56a2ae-a527\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":420,\"yLocation\":500,\"next\":\"772037e263b8-86fae2289019c50f-920c\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"GetPatient\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[{ \\\"id\\\": scenario.uniqueId }]\\r\\n}\",\"variable\":\"patientResponse\",\"label\":\"Get Patient\"},{\"id\":\"d97672127c3a-a769745e92e1f493-e9aa\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":680,\"yLocation\":420,\"next\":\"da437162e41b-83ec89323f2c07db-d61e\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"GetPatient\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[{ \\\"id\\\": scenario.uniqueId }]\\r\\n}\",\"variable\":\"patientResponse\",\"label\":\"Get Patient\"},{\"id\":\"a832f785efc4-ab12bdd9a4108236-524b\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":980,\"yLocation\":586,\"next\":\"99ec760a8db2-1935d917fd81c337-928f\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"CreatePatient\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"name\\\": scenario.userInfoInput.userName,\\r\\n            \\\"address\\\": JSON.stringify(session.message.address),\\r\\n            \\\"birthDate\\\": scenario.userInfoInput.birthYear,\\r\\n            \\\"identifier\\\": scenario.uniqueId,\\r\\n            \\\"email\\\": scenario.userInfoInput.email\\t\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"patientResponse\",\"label\":\"Create Patient\"},{\"id\":\"58854be1bd23-213d06d72aa50966-cf7c\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":830,\"yLocation\":800,\"next\":\"9e042b1e2b0d-8a74b3be8ecbd0e6-d429\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"GetHistory\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[{ \\\"id\\\": scenario.patient.id }]\\r\\n}\",\"variable\":\"patientHistory\",\"label\":\"Get History\"},{\"id\":\"99ec760a8db2-1935d917fd81c337-928f\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":910,\"yLocation\":691,\"next\":\"58854be1bd23-213d06d72aa50966-cf7c\"},\"onInit\":\"scenario.patient = scenario.patientResponse.result;\"},{\"id\":\"1c1a401c5e6d-f8c68a0d73be3efa-3349\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":820,\"yLocation\":690,\"next\":\"58854be1bd23-213d06d72aa50966-cf7c\"},\"onInit\":\"scenario.patient = scenario.patientResponse.result.entry[0].resource;\"},{\"id\":\"4ed542f56eb0-84233e86dba28b70-cddb\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":807,\"yLocation\":1300,\"next\":\"98e7275cf98e-7cb337657e28a8e8-d65b\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SavePrimarySymptoms\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.symptoms).Fever.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"386661006\\\",\\r\\n                            \\\"display\\\": \\\"Fever\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.symptoms).Breath.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"230145002\\\",\\r\\n                            \\\"display\\\": \\\"Difficulty breathing (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.symptoms).Cough.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"49727002\\\",\\r\\n                            \\\"display\\\": \\\"Cough\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"primarySymptoms\",\"label\":\"Save primary symptoms\"},{\"id\":\"737ceae7bd19-18dc531c2e3a733b-19ce\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":1000,\"yLocation\":1460,\"next\":\"1f392eedf30d-48e6560f7f406848-2839\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveTemperature\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": scenario.measuredTemperature,\\r\\n            \\\"unit\\\": scenario.temperatureUnit.name,\\r\\n            \\\"code\\\": scenario.temperatureUnit.value,\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"temperatureResponse\",\"label\":\"Save Temperature\"},{\"id\":\"df61a94447e1-ebef779c4e1284a7-0842\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":800,\"yLocation\":1720,\"next\":\"02790210f647-4d6b21f4ef25c282-97ab\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveSecondarySymptoms\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.secondarySymptoms).Chills.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"code\\\": \\\"43724002\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"display\\\": \\\"Chill (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.secondarySymptoms).MusclePain.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"68962001\\\",\\r\\n                            \\\"display\\\": \\\"Muscle pain (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.secondarySymptoms).Throat.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"267102003\\\",\\r\\n                            \\\"display\\\": \\\"Sore throat symptom (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n\\t\\t{\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.secondarySymptoms).LossSmellTaste.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"36955009\\\",\\r\\n                            \\\"display\\\": \\\"Loss of taste (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n\\t\\t{\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.secondarySymptoms).Vomiting.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"249497008\\\",\\r\\n                            \\\"display\\\": \\\"Vomiting symptom (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        },\\r\\n\\t\\t{\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"value\\\": JSON.parse(scenario.secondarySymptoms).Diarrhea.toLowerCase() === \\\"true\\\" ? true : false,\\r\\n            \\\"code\\\" : {\\r\\n                \\\"coding\\\": [\\r\\n                        {\\r\\n                            \\\"system\\\": \\\"http://snomed.info/sct\\\",\\r\\n                            \\\"code\\\": \\\"267060006\\\",\\r\\n                            \\\"display\\\": \\\"Diarrhea symptom (finding)\\\"\\r\\n                        }\\r\\n                    ]\\r\\n            }\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"secondarySymptomsResponse\",\"label\":\"Save secondary symptoms\"},{\"id\":\"f20f95fb22ba-c678c40cf03a5a3a-9c72\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":913,\"yLocation\":2540,\"next\":\"c31b1c26e65f-faf16f6c776889b4-de80\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveDiagnosticReport\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"conclusion\\\": \\\"Testing\\\"\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"diagnosticReport\",\"label\":\"Save Diagnostic symptoms\"},{\"id\":\"ce0380342f35-5f221213aaba723a-b0c2\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":713,\"yLocation\":2540,\"next\":\"c1fa3baf4764-a723295ed283e99c-001d\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveDiagnosticReport\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"conclusion\\\": \\\"Positive\\\"\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"diagnosticReport\",\"label\":\"Save Diagnostic symptoms\"},{\"id\":\"c2679d77db23-87bddec3ac94002b-a221\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":814,\"yLocation\":2540,\"next\":\"086fa067862e-281017d6be482ea9-3fae\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveDiagnosticReport\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"conclusion\\\": \\\"Negative\\\"\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"diagnosticReport\",\"label\":\"Save Diagnostic symptoms\"},{\"id\":\"2c2419f1cd53-ec00973cbc0712bb-44e1\",\"type\":\"prompt\",\"dataType\":\"string\",\"designer\":{\"xLocation\":1080,\"yLocation\":1060,\"next\":\"75915fd0f809-dc9a2fc1218131fc-24bf\"},\"variable\":\"exposureDetails\",\"stringId\":\"stringId_d27596e1ef098091\",\"label\":\"ExposureDetails\",\"submitTitle\":\"\\\"Submit\\\"\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n  \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n  \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n  \\\"version\\\": \\\"1.0\\\",\\r\\n  \\\"body\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"TextBlock\\\",\\r\\n      \\\"text\\\": customLocalizedStrings[\\\"back_to_work_question_ExposedDate\\\"],\\r\\n      \\\"wrap\\\":true\\r\\n    },\\r\\n    {\\r\\n      \\\"type\\\": \\\"Input.Date\\\",\\r\\n      \\\"id\\\": \\\"exposuredate\\\",\\r\\n      \\\"value\\\": \\\"\\\"\\r\\n    }\\r\\n  ],\\r\\n  \\\"actions\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"Action.Submit\\\",\\r\\n      \\\"title\\\": customLocalizedStrings[\\\"back_to_work_Submit\\\"]\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n\"}]},{\"id\":\"032b5df2d815-14090dddef282916-6374\",\"type\":\"branch\",\"condition\":\"scenario.exposed\",\"designer\":{\"xLocation\":973,\"yLocation\":1020,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"targetStepId\":\"2c2419f1cd53-ec00973cbc0712bb-44e1\"},{\"id\":\"4b76b720c3fd-34658a7adf207c62-8b49\",\"type\":\"statement\",\"designer\":{\"xLocation\":1206,\"yLocation\":1140,\"next\":\"2c2419f1cd53-ec00973cbc0712bb-44e1\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_input_Date\\\"]\",\"stringId\":\"stringId_ffbe2165fa971e26\"},{\"id\":\"75915fd0f809-dc9a2fc1218131fc-24bf\",\"type\":\"branch\",\"condition\":\"JSON.parse(scenario.exposureDetails).exposuredate == \\\"\\\"\",\"designer\":{\"xLocation\":1100,\"yLocation\":1140,\"next\":\"150c9eaa66bf-a229640c9111807a-27de\",\"reverse\":false},\"targetStepId\":\"4b76b720c3fd-34658a7adf207c62-8b49\",\"label\":\"Required fields\"},{\"id\":\"150c9eaa66bf-a229640c9111807a-27de\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":1020,\"yLocation\":1140,\"next\":\"f3366c3946da-43bdf7168de1831a-7d14\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveExposureDate\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"exposuredate\\\": new Date(JSON.parse(scenario.exposureDetails).exposuredate).toISOString()\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"exposedResponse\",\"label\":\"Save Exposure Date\"},{\"id\":\"0de4670f4c17-937877982d49ada1-755f\",\"type\":\"beginScenario\",\"designer\":{\"xLocation\":900,\"yLocation\":1868,\"next\":\"2aa547cc03de-d77584e830c2421b-a3f7\"},\"scenario\":\"covid19_backToWork_crud\",\"args\":\"{\\r\\n    \\\"type\\\" : \\\"SaveSymptomsDate\\\", \\r\\n    \\\"persistence\\\" : scenario.persistence.value,\\r\\n    \\\"payload\\\":[\\r\\n        {\\r\\n            \\\"identifier\\\": scenario.patient.id,\\r\\n            \\\"symptomsDate\\\": (new Date()).toISOString()\\r\\n        }\\r\\n    ]\\r\\n}\",\"variable\":\"symptomsDateResponse\",\"label\":\"Save Symptoms Date\"},{\"id\":\"02790210f647-4d6b21f4ef25c282-97ab\",\"type\":\"branch\",\"condition\":\"scenario.isSymptomatic\",\"designer\":{\"xLocation\":800,\"yLocation\":1800,\"next\":\"2144131ecf1d-b4011cb59194275a-f3ef\"},\"targetStepId\":\"0de4670f4c17-937877982d49ada1-755f\"},{\"id\":\"f3366c3946da-43bdf7168de1831a-7d14\",\"type\":\"action\",\"label\":\"Exposure info\",\"designer\":{\"xLocation\":920,\"yLocation\":1140,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"onInit\":\"scenario.exposedDate = new Date(JSON.parse(scenario.exposureDetails).exposuredate);\\r\\nscenario.exposed = scenario.exposedDate > new Date().setDate(new Date(scenario.dateOfEntry).getDate() - scenario.quarantineDays);\\r\\n\"},{\"id\":\"086fa067862e-281017d6be482ea9-3fae\",\"type\":\"statement\",\"designer\":{\"xLocation\":1000,\"yLocation\":2692},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }/*,\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"20px\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"Image\\\",\\r\\n                                    \\\"altText\\\": \\\"\\\",\\r\\n                                    \\\"url\\\": conversation.resourcesUrl + \\\"/Cross.png\\\",\\r\\n                                    \\\"width\\\": \\\"20px\\\",\\r\\n                                    \\\"height\\\": \\\"20px\\\"\\r\\n                                }\\r\\n                            ],\\r\\n                            \\\"height\\\": \\\"stretch\\\"\\r\\n                        }*/\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOkSymptomNegativePart1\\\"] + \\\" \\\" + scenario.symptomFreeDays + \\\" \\\" + customLocalizedStrings[\\\"back_to_work_result_notOkSymptomNegativePart2\\\"] + \\\" \\\" + scenario.quarantineDays + \\\" \\\" + customLocalizedStrings[\\\"back_to_work_result_notOkSymptomNegativePart3\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + Negative\"},{\"id\":\"c295597e1297-a41c4d4d785893a9-b8e4\",\"type\":\"switch\",\"designer\":{\"xLocation\":573,\"yLocation\":2071},\"cases\":[{\"value\":\"Positive\",\"targetStepId\":\"8c24cf38d7a9-4b24f45e0af92b9f-dc8f\"},{\"value\":\"Negative\",\"targetStepId\":\"89305a217ca8-2157a1956dc8ad54-c026\"},{\"value\":\"Testing\",\"targetStepId\":\"89305a217ca8-2157a1956dc8ad54-c026\"}],\"condition\":\"scenario.diagnosticReport.conclusion\"},{\"id\":\"8c24cf38d7a9-4b24f45e0af92b9f-dc8f\",\"type\":\"statement\",\"designer\":{\"xLocation\":493,\"yLocation\":2192},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        },\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"20px\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"Image\\\",\\r\\n                                    \\\"altText\\\": \\\"\\\",\\r\\n                                    \\\"url\\\": conversation.resourcesUrl + \\\"/Cross.png\\\",\\r\\n                                    \\\"width\\\": \\\"20px\\\",\\r\\n                                    \\\"height\\\": \\\"20px\\\"\\r\\n                                }\\r\\n                            ],\\r\\n                            \\\"height\\\": \\\"stretch\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOkPositiveSymptom\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Positive\"},{\"id\":\"89305a217ca8-2157a1956dc8ad54-c026\",\"type\":\"statement\",\"designer\":{\"xLocation\":600,\"yLocation\":2200},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_okPrecaution\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_okWithTest\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"OK - need Test\"},{\"id\":\"2144131ecf1d-b4011cb59194275a-f3ef\",\"type\":\"action\",\"label\":\"History: Symptomatic\",\"designer\":{\"xLocation\":787,\"yLocation\":1870,\"next\":\"2aa547cc03de-d77584e830c2421b-a3f7\"},\"onInit\":\"var symptomaticDate = null\\r\\n\\r\\nif(scenario.patientHistory.result.symptomatic.entry){\\r\\n    for(var i=0; i < scenario.patientHistory.result.symptomatic.entry.length; i++){\\r\\n        var symptomaticEntry = scenario.patientHistory.result.symptomatic.entry[i].resource;\\r\\n        if(symptomaticDate == null || new Date(symptomaticEntry.effectiveDateTime) > symptomaticDate ){\\r\\n            symptomaticDate = new Date(symptomaticEntry.effectiveDateTime);\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\nif(symptomaticDate != null){\\r\\n    scenario.isSymptomatic = symptomaticDate > new Date().setDate(new Date().getDate() - scenario.symptomFreeDays);\\r\\n}\\r\\n\"},{\"id\":\"c31b1c26e65f-faf16f6c776889b4-de80\",\"type\":\"statement\",\"designer\":{\"xLocation\":1120,\"yLocation\":2690},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }/*,\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"20px\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"Image\\\",\\r\\n                                    \\\"altText\\\": \\\"\\\",\\r\\n                                    \\\"url\\\": conversation.resourcesUrl + \\\"/Cross.png\\\",\\r\\n                                    \\\"width\\\": \\\"20px\\\",\\r\\n                                    \\\"height\\\": \\\"20px\\\"\\r\\n                                }\\r\\n                            ],\\r\\n                            \\\"height\\\": \\\"stretch\\\"\\r\\n                        }*/\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOkSymptomNoTest\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + No test\"},{\"id\":\"1cc1e0f04a2f-cb2e1b17d2ad3af0-a367\",\"type\":\"statement\",\"designer\":{\"xLocation\":640,\"yLocation\":2330},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }/*,\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"20px\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"Image\\\",\\r\\n                                    \\\"altText\\\": \\\"\\\",\\r\\n                                    \\\"url\\\": conversation.resourcesUrl + \\\"/Cross.png\\\",\\r\\n                                    \\\"width\\\": \\\"20px\\\",\\r\\n                                    \\\"height\\\": \\\"20px\\\"\\r\\n                                }\\r\\n                            ],\\r\\n                            \\\"height\\\": \\\"stretch\\\"\\r\\n                        }*/\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"back_to_work_result_notOkSymptomNoTest\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + No test\"},{\"id\":\"2521afe52ed4-8cfcfc5babe86192-123b\",\"type\":\"statement\",\"designer\":{\"xLocation\":620,\"yLocation\":1552,\"next\":\"1f392eedf30d-48e6560f7f406848-2839\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_error_NoSelection\\\"]\",\"stringId\":\"stringId_4e81957d7cf986ae\"},{\"id\":\"f8147ac7c959-40f3220536fb233e-7df1\",\"type\":\"branch\",\"condition\":\"scenario.numberOfSelected > 0;\",\"designer\":{\"xLocation\":720,\"yLocation\":1620,\"next\":\"2521afe52ed4-8cfcfc5babe86192-123b\"},\"targetStepId\":\"df61a94447e1-ebef779c4e1284a7-0842\"},{\"id\":\"9e68b46a8a6b-3697312c31e55b6a-7127\",\"type\":\"action\",\"label\":\"Symptomatic - New\",\"designer\":{\"xLocation\":800,\"yLocation\":1172,\"next\":\"ba0e02a1ee3e-05497594d30def85-c79f\"},\"onInit\":\"var symptoms = JSON.parse(scenario.symptoms);\\r\\nscenario.isSymptomatic = false;\\r\\nscenario.numberOfSelected = 0;\\r\\n\\r\\nscenario.numberOfSelected += symptoms.Fever.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += symptoms.Cough.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\nscenario.numberOfSelected += symptoms.Breath.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\n\\r\\n// isSymptomatic is true if one of the symptoms is true\\r\\nif(scenario.numberOfSelected > 0){\\r\\n    scenario.isSymptomatic = true;\\r\\n}\\r\\n\\r\\nscenario.numberOfSelected += symptoms.None.toLowerCase() === \\\"true\\\" ? 1 : 0;\\r\\n\\r\\n\"},{\"id\":\"ba0e02a1ee3e-05497594d30def85-c79f\",\"type\":\"branch\",\"condition\":\"scenario.numberOfSelected > 0;\",\"designer\":{\"xLocation\":711,\"yLocation\":1254,\"next\":\"38f290312daa-0592d1fb4da05da9-0e2c\"},\"targetStepId\":\"4ed542f56eb0-84233e86dba28b70-cddb\"},{\"id\":\"38f290312daa-0592d1fb4da05da9-0e2c\",\"type\":\"statement\",\"designer\":{\"xLocation\":610,\"yLocation\":1180,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_error_NoSelection\\\"]\",\"stringId\":\"stringId_4e81957d7cf986ae\"},{\"id\":\"1818dfef2440-dad719b6c21c4ba7-ef4c\",\"type\":\"statement\",\"designer\":{\"xLocation\":749,\"yLocation\":400,\"next\":\"2fd3f85be293-323134198819a410-1390\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_error_NoRecordFound\\\"]\",\"label\":\"Not Found\",\"stringId\":\"stringId_73e46813f4734ec0\"},{\"id\":\"842b792c1b58-36ae706f6a7c6e8c-cbbe\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"back_to_work_Yes\\\"], customLocalizedStrings[\\\"back_to_work_No\\\"]]\",\"designer\":{\"xLocation\":328,\"yLocation\":2007,\"listStyle\":3,\"next\":\"2d91eb079d6a-427331d2e45394b3-bf07\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_question_symptomFreePart1\\\"] + \\\" \\\" + scenario.symptomFreeDays + \\\" \\\" + customLocalizedStrings[\\\"back_to_work_question_symptomFreePart2\\\"] \",\"variable\":\"symptomFree\",\"submitTitle\":\"Submit\",\"label\":\"SymptomFree\",\"stringId\":\"stringId_778222a0de94bd30\",\"choiceType\":\"choice\"},{\"id\":\"2d91eb079d6a-427331d2e45394b3-bf07\",\"type\":\"branch\",\"condition\":\"scenario.symptomFree.index === 0\",\"designer\":{\"xLocation\":333,\"yLocation\":2071,\"next\":\"7c6bf2a495d3-fb2521936b683020-12ad\"},\"label\":\"SymptomFree\",\"targetStepId\":\"856040320d25-fa50d7986ad0ca80-c69d\"},{\"id\":\"6c0cc064506e-f024ae48818ab630-d042\",\"type\":\"statement\",\"designer\":{\"xLocation\":1000,\"yLocation\":80,\"next\":\"e54e97d5f13f-8ba39779bf4ddc10-183d\"},\"text\":\"\\\"**DEVELOPER NOTICE:** \\\\n\\\\n \\\" + \\r\\n\\\"1. Make sure you have properly configured the Data Connection and Authentication details for the FHIR server. You can find both in the *Integration* menu entry.  \\\\n\\\\n  \\\" +\\r\\n\\\"2. If the scenario is running from Microsoft Teams channel the Teams' user identification will be used. Otherwise we provided a basic user registration, based on Unique ID + year of birth. You should customise it as appropriate for your own needs.\\\"\",\"label\":\"Developer Notice\",\"stringId\":\"stringId_e61b4141f4733208\"}],\"interrupting\":false,\"breaking\":false,\"returningMessage\":\"\"}"
}
