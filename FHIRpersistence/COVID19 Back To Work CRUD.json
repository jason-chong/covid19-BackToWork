{
 "name": "COVID19 Back To Work CRUD",
 "id": "3ec87caf-980e-4f0a-9699-d96737f00803",
 "scenario_trigger": "covid19_backToWork_crud",
 "description": "",
 "active": true,
 "updated": "2020-05-20T07:08:31.8460000Z",
 "userDisplayName": "Nikita Pitliya",
 "code": "{\"version\":3,\"steps\":[{\"id\":\"2fb7653fb612-0738f2f0a6e296ea-2630\",\"type\":\"switch\",\"designer\":{\"xLocation\":648,\"yLocation\":0,\"next\":\"c2c29bb2cfc9-6a2b9f6ca53f6862-7db6\"},\"cases\":[{\"value\":\"FHIR\",\"targetStepId\":\"a1edddbf7759-7391f7ae10cc1007-be1f\"}],\"condition\":\" ${scenarioArgs}[\\\"persistence\\\"]\"},{\"id\":\"e22dc07c842c-732683b06a74ceeb-ebf0\",\"type\":\"datasource\",\"designer\":{\"xLocation\":110,\"yLocation\":260,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Patient?identifier=http://acme.org/patient|' + ${scenarioArgs}[\\\"payload\\\"][0].id + '&'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Read\",\"fhirResource\":\"Patient\",\"method\":\"get\",\"headers\":\"\",\"payload\":\"/* fill the missing fields */\\nFHIR({\\n  \\\"resourceType\\\": \\\"Patient\\\"\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"result\",\"error\":\"error\",\"label\":\"Get Patient\"},{\"id\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"type\":\"endwithresult\",\"designer\":{\"xLocation\":660,\"yLocation\":752},\"endScope\":\"scenario\",\"returnValue\":\"{\\r\\n    \\\"error\\\": scenario.error,\\r\\n    \\\"result\\\": scenario.result\\r\\n}\"},{\"id\":\"a1edddbf7759-7391f7ae10cc1007-be1f\",\"type\":\"switch\",\"designer\":{\"xLocation\":648,\"yLocation\":92},\"cases\":[{\"value\":\"GetPatient\",\"targetStepId\":\"e22dc07c842c-732683b06a74ceeb-ebf0\"},{\"value\":\"CreatePatient\",\"targetStepId\":\"b632e5c7f4eb-70f0a47cee7b279a-7465\"},{\"value\":\"GetHistory\",\"targetStepId\":\"d4d0154733c2-dfa7b37947f657c0-bbcf\"},{\"value\":\"SavePrimarySymptoms\",\"targetStepId\":\"5f7d78e0c628-b08336086fe2a6fc-9c6c\"},{\"value\":\"SaveSecondarySymptoms\",\"targetStepId\":\"1dd05e724b85-3c608c9e816634a7-938e\"},{\"value\":\"SaveTemperature\",\"targetStepId\":\"a527920755f0-fb40983b14ae6364-8b6a\"},{\"value\":\"SaveDiagnosticReport\",\"targetStepId\":\"3baf6bb5a1d6-97476a1b1e6b0350-0b75\"},{\"value\":\"SaveExposureDate\",\"targetStepId\":\"47342cc37893-fcbff68f54ebc7fa-69ba\"},{\"value\":\"SaveSymptomsDate\",\"targetStepId\":\"a7e3a2d0427d-9f0e85574e723fbe-61e3\"}],\"condition\":\" ${scenarioArgs}[\\\"type\\\"]\"},{\"id\":\"b632e5c7f4eb-70f0a47cee7b279a-7465\",\"type\":\"datasource\",\"designer\":{\"xLocation\":280,\"yLocation\":271,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Patient'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Patient\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Patient\\\",\\n  \\\"name\\\": [{\\n    \\\"text\\\": ${scenarioArgs}[\\\"payload\\\"][0].name\\n    }\\n   ],\\n   \\\"extension\\\": [\\n        {\\n        \\\"url\\\": \\\"address\\\",\\n        \\\"valueString\\\": ${scenarioArgs}[\\\"payload\\\"][0].address\\n        }\\n    ],\\n  \\\"birthDate\\\":  ${scenarioArgs}[\\\"payload\\\"][0].birthDate,\\n  \\\"identifier\\\": [\\n    {\\n\\t  \\\"system\\\": \\\"http://acme.org/patient\\\",\\n      \\\"value\\\":   ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ], \\n   \\\"telecom\\\": [\\n           {\\n            \\\"system\\\": \\\"email\\\",\\n            \\\"value\\\":  ${scenarioArgs}[\\\"payload\\\"][0].email\\n          }]\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"result\",\"error\":\"error\",\"label\":\"Create patient\"},{\"id\":\"d4d0154733c2-dfa7b37947f657c0-bbcf\",\"type\":\"datasource\",\"designer\":{\"xLocation\":440,\"yLocation\":260,\"next\":\"f191433b5309-ec1f3bba5b67ee22-2127\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation?_count=100&patient='+ ${scenarioArgs}[\\\"payload\\\"][0].id + '&code=http://snomed.info/sct|3947187015&' \",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Search\",\"fhirResource\":\"Observation\",\"method\":\"get\",\"headers\":\"\",\"payload\":\"/* fill the missing fields */\\nFHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\"\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"exposures\",\"error\":\"exposuresError\",\"label\":\"Exposures\"},{\"id\":\"f191433b5309-ec1f3bba5b67ee22-2127\",\"type\":\"datasource\",\"designer\":{\"xLocation\":440,\"yLocation\":320,\"next\":\"6c5ee858c791-04c4d0f962b81874-59f3\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/DiagnosticReport?patient='+ ${scenarioArgs}[\\\"payload\\\"][0].id + '&'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Search\",\"fhirResource\":\"DiagnosticReport\",\"method\":\"get\",\"headers\":\"\",\"payload\":\"/* fill the missing fields */\\nFHIR({\\n  \\\"resourceType\\\": \\\"DiagnosticReport\\\"\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"diagnosticReports\",\"error\":\"diagnosticReportsError\",\"label\":\"Diagnostic\"},{\"id\":\"57bcdba09eb0-5d9545ef6570cf46-18b9\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":511,\"yLocation\":440,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\"},\"onInit\":\"scenario.result = {\\r\\n    \\\"diagnosticReports\\\": scenario.diagnosticReports,\\r\\n    \\\"exposures\\\": scenario.exposures,\\r\\n    \\\"symptomatic\\\": scenario.symptomatic\\r\\n}\"},{\"id\":\"5f7d78e0c628-b08336086fe2a6fc-9c6c\",\"type\":\"datasource\",\"designer\":{\"xLocation\":620,\"yLocation\":270,\"next\":\"15d39bd4d2c0-472c9880f2afb7a3-5cb5\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][1].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" :  ${scenarioArgs}[\\\"payload\\\"][0].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"fever\",\"error\":\"error\",\"label\":\"Save Fever\"},{\"id\":\"15d39bd4d2c0-472c9880f2afb7a3-5cb5\",\"type\":\"datasource\",\"designer\":{\"xLocation\":620,\"yLocation\":320,\"next\":\"999d2e0c1ba2-7e29096e57e131a2-5c46\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][1].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][1].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][1].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" :  ${scenarioArgs}[\\\"payload\\\"][1].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"breathing\",\"error\":\"error\",\"label\":\"Save Breathing Difficulties\"},{\"id\":\"999d2e0c1ba2-7e29096e57e131a2-5c46\",\"type\":\"datasource\",\"designer\":{\"xLocation\":620,\"yLocation\":371,\"next\":\"aeed525ee4af-2acb97ef1d667e16-6da6\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][2].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][2].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][2].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" : ${scenarioArgs}[\\\"payload\\\"][2].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"cough\",\"error\":\"error\",\"label\":\"Save Cough\"},{\"id\":\"aeed525ee4af-2acb97ef1d667e16-6da6\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":612,\"yLocation\":440,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\"},\"onInit\":\"scenario.result = {\\r\\n    \\\"fever\\\": scenario.fever,\\r\\n    \\\"breathing\\\": scenario.breathing,\\r\\n    \\\"cough\\\": scenario.cough,\\r\\n}\"},{\"id\":\"a527920755f0-fb40983b14ae6364-8b6a\",\"type\":\"datasource\",\"designer\":{\"xLocation\":740,\"yLocation\":271,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"/* fill the missing fields */\\nFHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"vital-signs\\\",\\n          \\\"display\\\": \\\"Vital Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": {\\n    \\\"coding\\\": [\\n     {\\n        \\\"system\\\": \\\"http://snomed.info/sct\\\",\\n        \\\"code\\\": \\\"56342008\\\",\\n        \\\"display\\\": \\\"Temperature taking\\\"\\n      },\\n      {\\n        \\\"system\\\": \\\"http://acme.lab\\\",\\n        \\\"code\\\": \\\"BT\\\",\\n        \\\"display\\\": \\\"Body temperature\\\"\\n      },\\n      {\\n        \\\"system\\\": \\\"http://loinc.org\\\",\\n        \\\"code\\\": \\\"8310-5\\\",\\n        \\\"display\\\": \\\"Body temperature\\\"\\n      },\\n      {\\n        \\\"system\\\": \\\"http://loinc.org\\\",\\n        \\\"code\\\": \\\"8331-1\\\",\\n        \\\"display\\\": \\\"Oral temperature\\\"\\n      }\\n    ],\\n    \\\"text\\\": \\\"Temperature\\\"\\n  },\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ],\\n  \\\"valueQuantity\\\": {\\n    \\\"value\\\": ${scenarioArgs}[\\\"payload\\\"][0].value,\\n    \\\"unit\\\": ${scenarioArgs}[\\\"payload\\\"][0].unit,\\n    \\\"system\\\": \\\"http://unitsofmeasure.org\\\",\\n    \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][0].code\\n  },\\n  \\\"interpretation\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation\\\",\\n          \\\"code\\\": \\\"H\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"referenceRange\\\": [\\n    {\\n      \\\"high\\\": {\\n        \\\"value\\\": 37.9,\\n        \\\"unit\\\": \\\"degrees C\\\"\\n      }\\n    }\\n  ]\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"result\",\"error\":\"error\",\"label\":\"Save Temperature\"},{\"id\":\"1dd05e724b85-3c608c9e816634a7-938e\",\"type\":\"datasource\",\"designer\":{\"xLocation\":860,\"yLocation\":280,\"next\":\"240ecfe2bae7-adb69117b872ae74-19f6\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][0].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" :  ${scenarioArgs}[\\\"payload\\\"][0].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"chills\",\"error\":\"error\",\"label\":\"Save Chills\"},{\"id\":\"240ecfe2bae7-adb69117b872ae74-19f6\",\"type\":\"datasource\",\"designer\":{\"xLocation\":860,\"yLocation\":331,\"next\":\"76a8fe0268b3-a9d1e286a62d258d-73ee\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][1].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][1].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][1].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" :  ${scenarioArgs}[\\\"payload\\\"][1].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"nasal\",\"error\":\"error\",\"label\":\"Save Muscle Pain\"},{\"id\":\"76a8fe0268b3-a9d1e286a62d258d-73ee\",\"type\":\"datasource\",\"designer\":{\"xLocation\":860,\"yLocation\":380,\"next\":\"9d1490059d51-11abba8a516608b3-a032\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][2].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][2].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][2].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" : ${scenarioArgs}[\\\"payload\\\"][2].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"throat\",\"error\":\"error\",\"label\":\"Save Throat\"},{\"id\":\"9d1490059d51-11abba8a516608b3-a032\",\"type\":\"datasource\",\"designer\":{\"xLocation\":860,\"yLocation\":440,\"next\":\"8aa8eb630ff3-ca12b074a0c73f30-ce84\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][3].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][3].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][3].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" : ${scenarioArgs}[\\\"payload\\\"][3].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"dizziness\",\"error\":\"error\",\"label\":\"Save Loss Smell\\\\Taste\"},{\"id\":\"8aa8eb630ff3-ca12b074a0c73f30-ce84\",\"type\":\"datasource\",\"designer\":{\"xLocation\":860,\"yLocation\":500,\"next\":\"118b0d83e80f-d5f6104bc20a6d0c-7c52\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][4].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][4].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][4].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" : ${scenarioArgs}[\\\"payload\\\"][4].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"abdomen\",\"error\":\"error\",\"label\":\"Save Vomiting\"},{\"id\":\"728ea9db4c17-4b20dab821b6fafc-74d9\",\"type\":\"action\",\"label\":\"Action\",\"designer\":{\"xLocation\":860,\"yLocation\":600,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\"},\"onInit\":\"scenario.result = {\\r\\n    \\\"chills\\\": scenario.chills,\\r\\n    \\\"nasal\\\": scenario.nasal,\\r\\n    \\\"throat\\\": scenario.throat,\\r\\n    \\\"dizziness\\\": scenario.dizziness,\\r\\n    \\\"abdomen\\\": scenario.abdomen\\r\\n}\"},{\"id\":\"3baf6bb5a1d6-97476a1b1e6b0350-0b75\",\"type\":\"datasource\",\"designer\":{\"xLocation\":1049,\"yLocation\":270,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/DiagnosticReport'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"DiagnosticReport\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"{\\n  \\\"resourceType\\\" : \\\"DiagnosticReport\\\",\\n  \\\"status\\\" : \\\"preliminary\\\",\\n  \\\"code\\\": {\\n\\t\\t\\\"coding\\\" : [\\n\\t\\t\\t{\\n\\t\\t\\t\\t\\\"system\\\": \\\"http://snomed.info/sct\\\",\\n\\t\\t\\t\\t\\\"code\\\": \\\"840539006\\\",\\n\\t\\t\\t\\t\\\"display\\\": \\\"Covid-19\\\"\\n\\t\\t\\t}\\n\\t\\t]\\n\\t},\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n    \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ],\\n  \\\"conclusion\\\" : ${scenarioArgs}[\\\"payload\\\"][0].conclusion\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Save Diagnostic Report\",\"response\":\"DiagnosticReportResponse\",\"error\":\"DiagnosticReportError\"},{\"id\":\"47342cc37893-fcbff68f54ebc7fa-69ba\",\"type\":\"datasource\",\"designer\":{\"xLocation\":1160,\"yLocation\":266,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"{\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://snomed.info/sct\\\",\\n          \\\"code\\\": \\\"840546002\\\",\\n          \\\"display\\\": \\\"Exposure to SARS-CoV-2\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"effectiveDateTime\\\":  ${scenarioArgs}[\\\"payload\\\"][0].exposuredate,\\n  \\\"code\\\": {\\n\\t\\t\\\"coding\\\": [\\n\\t\\t\\t{\\n\\t\\t\\t\\t\\\"system\\\": \\\"http://snomed.info/sct\\\",\\n\\t\\t\\t\\t\\\"code\\\": \\\"3947187015\\\",\\n\\t\\t\\t\\t\\\"display\\\": \\\"Exposure to SARS-CoV-2\\\"\\n\\t\\t\\t}\\n\\t\\t]\\n\\t},\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" +  ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" +  ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ]}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Save Exposure Date\",\"response\":\"result\",\"error\":\"error\"},{\"id\":\"a7e3a2d0427d-9f0e85574e723fbe-61e3\",\"type\":\"datasource\",\"designer\":{\"xLocation\":1260,\"yLocation\":273,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"{\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://snomed.info/sct\\\",\\n          \\\"code\\\": \\\"840544004\\\",\\n          \\\"display\\\": \\\"Suspected disease caused by severe acute respiratory coronavirus 2 (situation)\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"effectiveDateTime\\\":  ${scenarioArgs}[\\\"payload\\\"][0].symptomsDate,\\n  \\\"code\\\": {\\n\\t\\t\\\"coding\\\": [\\n\\t\\t\\t{\\n\\t\\t\\t\\t\\\"system\\\": \\\"http://snomed.info/sct\\\",\\n\\t\\t\\t\\t\\\"code\\\": \\\"840544004\\\",\\n\\t\\t\\t\\t\\\"display\\\": \\\"Suspected disease caused by severe acute respiratory coronavirus 2 (situation)\\\"\\n\\t\\t\\t}\\n\\t\\t]\\n\\t},\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" +  ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" +  ${scenarioArgs}[\\\"payload\\\"][0].identifier\\n    }\\n  ]}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Save Symptoms Date\",\"response\":\"result\",\"error\":\"error\"},{\"id\":\"6c5ee858c791-04c4d0f962b81874-59f3\",\"type\":\"datasource\",\"designer\":{\"xLocation\":440,\"yLocation\":393,\"next\":\"57bcdba09eb0-5d9545ef6570cf46-18b9\",\"errorStepId\":\"8579ee8723f6-b4fb2dd93f00c311-c564\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation?_count=100&patient='+ ${scenarioArgs}[\\\"payload\\\"][0].id + '&code=http://snomed.info/sct|840544004&' \",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Search\",\"fhirResource\":\"Observation\",\"method\":\"get\",\"headers\":\"\",\"payload\":\"/* fill the missing fields */\\nFHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\"\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomatic\",\"error\":\"symptomaticError\",\"label\":\"Symptomatic\"},{\"id\":\"c2c29bb2cfc9-6a2b9f6ca53f6862-7db6\",\"type\":\"statement\",\"designer\":{\"xLocation\":1580,\"yLocation\":180},\"text\":\"**DEVELOPER NOTICE:** customer could provide own non-FHIR persistence implementation\",\"stringId\":\"stringId_6fb58a77e3c761b5\",\"label\":\"Developer Notice\"},{\"id\":\"118b0d83e80f-d5f6104bc20a6d0c-7c52\",\"type\":\"datasource\",\"designer\":{\"xLocation\":860,\"yLocation\":547,\"next\":\"728ea9db4c17-4b20dab821b6fafc-74d9\",\"errorStepId\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\"},\"dataConnection\":\"FHIR Back To Work\",\"authenticationProvider\":\"FHIR Back To Work Auth\",\"urlPath\":\"'/Observation'\",\"urlParams\":\"'_format=application/json'\",\"fhirAction\":\"Create\",\"fhirResource\":\"Observation\",\"method\":\"post\",\"headers\":\"\",\"payload\":\"FHIR({\\n  \\\"resourceType\\\": \\\"Observation\\\",\\n   \\\"status\\\": \\\"final\\\",\\n  \\\"category\\\": [\\n    {\\n      \\\"coding\\\": [\\n        {\\n          \\\"system\\\": \\\"http://terminology.hl7.org/CodeSystem/observation-category\\\",\\n          \\\"code\\\": \\\"covid19-signs\\\",\\n          \\\"display\\\": \\\"Covid19 Signs\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"code\\\": ${scenarioArgs}[\\\"payload\\\"][5].code,\\n  \\\"subject\\\": {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][5].identifier\\n    },\\n  \\\"issued\\\": new Date().toISOString(),\\n  \\\"performer\\\": [\\n    {\\n      \\\"reference\\\": \\\"Patient/\\\" + ${scenarioArgs}[\\\"payload\\\"][5].identifier\\n    }\\n  ],\\n  \\\"valueBoolean\\\" : ${scenarioArgs}[\\\"payload\\\"][5].value\\n});\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"abdomen\",\"error\":\"error\",\"label\":\"Save Diarrhea\"},{\"id\":\"8579ee8723f6-b4fb2dd93f00c311-c564\",\"type\":\"statement\",\"designer\":{\"xLocation\":260,\"yLocation\":540,\"next\":\"99e1ef48faf8-8d2fd176192ce46a-8580\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_errorFHIR\\\"]\",\"stringId\":\"stringId_ca65c161c880a65d\",\"label\":\"Error\"},{\"id\":\"ba0c3b94bad8-0e6574f003f5aa61-6ed9\",\"type\":\"statement\",\"designer\":{\"xLocation\":1210,\"yLocation\":500,\"next\":\"b2da7223fdf6-51544d63cb0982d3-85f3\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_errorFHIR\\\"]\",\"stringId\":\"stringId_ca65c161c880a65d\",\"label\":\"Error\"},{\"id\":\"99e1ef48faf8-8d2fd176192ce46a-8580\",\"type\":\"statement\",\"designer\":{\"xLocation\":260,\"yLocation\":620},\"text\":\"\\\"**DEVELOPER NOTICE:** make sure you have properly configured the Data Connection and Authentication details for the FHIR server. You can find both in the *Integration* menu entry.\\\"\",\"stringId\":\"stringId_ca65c161c880a65d\",\"label\":\"Developer Notice\"}],\"interrupting\":false,\"breaking\":false,\"returningMessage\":\"\"}"
}